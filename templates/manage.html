<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>항목 관리 (누구나 사용)</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header>
    <div>
      <h1>항목 관리</h1>
      <div class="sub">현재 항목: <strong>{{ count }}</strong>개 · 로그인 없이 누구나 추가/삭제 가능</div>
    </div>
    <div class="controls">
      <a class="ghost" href="{{ url_for('index') }}">← 퀴즈로 돌아가기</a>
      <form action="{{ url_for('reset') }}" method="post" style="display:inline" onsubmit="return confirm('모든 항목을 삭제할까요?')">
        <button type="submit" class="danger">전체 삭제</button>
      </form>
    </div>
  </header>

  <main class="narrow">
    <section class="card form">
      <h2>퀴즈 항목 추가</h2>
      <form method="post" action="{{ url_for('add') }}">
        <label>퀴즈(질문/취미)
          <input type="text" name="question" placeholder="예: 클라이밍, 와인" required>
        </label>
        <label>정답(이름/닉네임)
          <input type="text" name="answer" placeholder="예: 손창범" required>
        </label>
        <button type="submit">추가</button>
      </form>
      <p class="hint">※ 개인정보는 입력하지 마세요. 닉네임 등 익명 정보 권장.</p>
    </section>

    <section class="card">
      <h2>등록된 항목</h2>
      {% if items %}
      <table class="table">
        <thead><tr><th>#</th><th>퀴즈</th><th>정답</th><th>관리</th></tr></thead>
        <tbody>
          {% for it in items %}
          <tr>
            <td>{{ it.id }}</td>
            <td>{{ it.question }}</td>
            <td>{{ it.answer }}</td>
            <td>
              <form action="{{ url_for('delete', item_id=it.id) }}" method="post" onsubmit="return confirm('삭제할까요?')">
                <button type="submit" class="danger small">삭제</button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}
      <p class="muted">아직 항목이 없습니다. 위 폼에서 추가해주세요.</p>
      {% endif %}
    </section>
  </main>
</body>
</html>
